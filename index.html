<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>root@neural-tutor:~$</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', 'Consolas', monospace;
            cursor: text;
            user-select: none;
        }
        body {
            background-color: #0a0a0a;
            background-image:
                radial-gradient(circle at 10% 20%, #111111 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, #151515 0%, transparent 20%);
            color: #00ff41;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            position: relative;
        }
        .crt-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                linear-gradient(rgba(10, 10, 10, 0) 50%, rgba(0, 0, 0, 0.3) 50%),
                linear-gradient(90deg, rgba(0, 255, 65, 0.03), rgba(77, 77, 255, 0.01), rgba(0, 255, 65, 0.03));
            background-size: 100% 2px, 3px 100%;
            z-index: 10000;
            pointer-events: none;
            animation: flicker 0.15s infinite;
            mix-blend-mode: overlay;
        }
        @keyframes flicker {
            0% { opacity: 0.95; transform: translateY(0px); }
            25% { opacity: 0.97; transform: translateY(-0.3px); }
            50% { opacity: 0.99; transform: translateY(0.3px); }
            75% { opacity: 0.96; transform: translateY(0px); }
            100% { opacity: 0.95; transform: translateY(-0.2px); }
        }
        .scan-line {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(to bottom, transparent, rgba(0, 255, 65, 0.4), transparent);
            z-index: 10001;
            pointer-events: none;
            animation: scan 5s linear infinite;
        }
        @keyframes scan {
            0% { top: -2px; }
            100% { top: 100%; }
        }
        .matrix-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            opacity: 0;
            overflow: hidden;
            transition: opacity 2s ease-in-out;
        }
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }
        .boot-terminal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0a0a;
            z-index: 1000;
            overflow: hidden;
            padding: 30px;
            font-size: 1.1rem;
            line-height: 1.4;
            transition: opacity 1s ease-in-out;
        }
        .terminal-line {
            margin-bottom: 0.8rem;
            opacity: 0;
            text-shadow: 0 0 5px currentColor;
            filter: drop-shadow(0 0 2px currentColor);
            min-height: 1.4rem;
            display: block;
        }
        .prompt {
            color: #00ff41;
            margin-right: 10px;
            text-shadow: 0 0 3px #00ff41;
        }
        .user { color: #4d4dff; }
        .host { color: #8a2be2; }
        .path { color: #ffa500; }
        .command { color: #d3d3d3; }
        .cursor {
            display: inline-block;
            width: 8px;
            height: 1.2rem;
            background-color: #00ff41;
            animation: blink 1s infinite;
            margin-left: 2px;
            vertical-align: middle;
            box-shadow:
                0 0 5px #00ff41,
                inset 0 0 3px #ffffff;
            border-radius: 1px;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        .transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 900;
            pointer-events: none;
            opacity: 0;
            background: radial-gradient(circle at center, transparent 30%, #0a0a0a 100%);
        }
        .cyber-grid {
            background-image:
                linear-gradient(rgba(0, 255, 65, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 65, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 25s linear infinite;
        }
        @keyframes gridMove {
            0% { background-position: 0 0; }
            100% { background-position: 50px 50px; }
        }
        .transition-loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 950;
            width: 400px;
            opacity: 0;
        }
        .loading-text {
            color: #00ff41;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.4rem;
            text-shadow:
                0 0 5px #00ff41,
                0 0 10px rgba(0, 255, 65, 0.3);
            letter-spacing: 1px;
            animation: loadingText 3s infinite;
        }
        @keyframes loadingText {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        .loading-bar {
            width: 100%;
            height: 6px;
            background: rgba(0, 255, 65, 0.05);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(0, 255, 65, 0.2);
        }
        .loading-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg,
                transparent,
                rgba(0, 255, 65, 0.2),
                transparent);
            animation: loadingShine 2.5s infinite;
        }
        @keyframes loadingShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        .loading-progress {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg,
                #00ff41,
                #008f11,
                #00ff41);
            box-shadow:
                0 0 5px #00ff41,
                0 0 10px #00ff41;
            transition: width 0.3s ease-out;
            position: relative;
            z-index: 2;
        }
        .intro-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 800px;
            font-size: 1.2rem;
            line-height: 1.6;
            color: #00ff41;
            text-shadow: 0 0 5px #00ff41;
            z-index: 1100;
            opacity: 0;
            pointer-events: none;
        }
        .intro-line {
            opacity: 0;
            display: block;
            margin-bottom: 10px;
        }
        /* ────────────── Modified Terminals ────────────── */
        .course-terminal {
            position: fixed;
            top: 8%;
            left: 3%;
            width: 18%;
            height: 84%;
            background: rgba(10, 10, 10, 0.94);
            border: 1px solid #00ff41;
            border-radius: 5px;
            padding: 18px;
            z-index: 1200;
            opacity: 0;
            transform: scale(0.92);
            transition: opacity 0.6s, transform 0.6s;
            overflow-y: auto;
            font-size: 0.95rem;
        }
        .course-terminal h2 {
            color: #4d4dff;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }
        .course-list {
            list-style: none;
        }
        .course-list li {
            padding: 10px 8px;
            cursor: pointer;
            transition: all 0.2s;
            border-radius: 3px;
        }
        .course-list li:hover {
            background: rgba(0, 255, 65, 0.09);
            padding-left: 12px;
        }
        .details-terminal {
            position: fixed;
            top: 8%;
            right: 3%;
            width: 72%;
            height: 84%;
            background: rgba(10, 10, 10, 0.94);
            border: 1px solid #00ff41;
            border-radius: 5px;
            padding: 24px;
            z-index: 1200;
            opacity: 0;
            transform: scale(0.92);
            transition: opacity 0.6s, transform 0.6s;
            overflow-y: auto;
            display: none;
            position: relative;
        }
        .details-terminal h2 {
            color: #4d4dff;
            margin-bottom: 1.4rem;
            padding-right: 180px;
        }
        .profile-header {
            position: absolute;
            top: 20px;
            right: 24px;
            width: 160px;
            height: 160px;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid #00ff41;
            box-shadow: 0 0 20px rgba(0,255,65,0.35);
            opacity: 0;
            transform: scale(0.7);
            transition: all 0.8s ease;
        }
        .profile-header.visible {
            opacity: 1;
            transform: scale(1);
        }
        .profile-header img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .typed-content {
            white-space: pre-wrap;
            opacity: 0;
            padding-top: 180px;
            line-height: 1.5;
            font-size: 1.05rem;
        }
        .notification { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn {
            from { opacity: 0; transform: translate(-50%, -20px); }
            to { opacity: 1; transform: translate(-50%, 0); }
        }
    </style>
</head>
<body>

    <div class="crt-overlay"></div>
    <div class="scan-line"></div>

    <div class="boot-terminal" id="bootTerminal">
        <div class="terminal-line" id="line1">
            <span class="prompt"><span class="user">root</span>@<span class="host">neural-tutor</span>:<span class="path">/sys/boot</span>$</span>
            <span class="command">init_system --mode=cyberpunk --quantum=on</span>
            <span class="cursor"></span>
        </div>
        <div class="terminal-line" id="line2"></div>
        <div class="terminal-line" id="line3"></div>
        <div class="terminal-line" id="line4"></div>
        <div class="terminal-line" id="line5"></div>
        <div class="terminal-line" id="line6"></div>
        <div class="terminal-line" id="line7"></div>
        <div class="terminal-line" id="line8"></div>
        <div class="terminal-line" id="line9"></div>
        <div class="terminal-line" id="line10"></div>
        <div class="terminal-line" id="line11"></div>
        <div class="terminal-line" id="line12"></div>
    </div>

    <div class="transition-overlay cyber-grid" id="transitionOverlay"></div>

    <div class="transition-loading" id="transitionLoading">
        <div class="loading-text" id="loadingText">INITIALIZING NEURAL MATRIX</div>
        <div class="loading-bar">
            <div class="loading-progress" id="loadingProgress"></div>
        </div>
    </div>

    <div class="matrix-rain" id="matrixRain"></div>
    <div class="particles" id="particles"></div>
    <div class="intro-message" id="introMessage"></div>

    <div class="course-terminal" id="courseTerminal">
        <h2>Available Courses</h2>
        <ul class="course-list">
            <li data-topic="algorithms">Quantum Algorithms</li>
            <li data-topic="ml">Neural Architectures</li>
            <li data-topic="security">Cybersecurity Mesh</li>
            <li data-topic="quantum">Quantum Computing</li>
            <li data-topic="systems">Distributed Systems</li>
        </ul>
    </div>

    <div class="details-terminal" id="detailsTerminal">
        <div class="profile-header" id="profilePhoto">
            <img src="" alt="Course Instructor">
        </div>
        <h2>Course Details</h2>
        <div class="typed-content" id="detailsContent"></div>
    </div>

    <script>
        const Effects = {
            createMatrixRain() {
                const container = document.getElementById('matrixRain');
                if (!container) return;
                const columns = Math.floor(window.innerWidth / 25);
                for (let i = 0; i < columns; i++) {
                    const column = document.createElement('div');
                    column.style.cssText = `
                        position: absolute;
                        left: ${(i * 100) / columns}%;
                        top: -100px;
                        width: 1.5px;
                        height: 150px;
                        background: linear-gradient(to bottom, transparent, #00ff41, #008f11, transparent);
                        opacity: 0.2;
                        pointer-events: none;
                    `;
                    container.appendChild(column);
                    this.animateRainColumn(column);
                }
            },
            animateRainColumn(column) {
                let position = -100;
                const speed = 1.5 + Math.random() * 2;
                const height = 40 + Math.random() * 100;
                column.style.height = `${height}px`;
                function fall() {
                    position += speed;
                    if (position > window.innerHeight) {
                        position = -height;
                        column.style.opacity = 0.1 + Math.random() * 0.3;
                    }
                    column.style.top = `${position}px`;
                    requestAnimationFrame(fall);
                }
                fall();
            },
            createParticles() {
                const container = document.getElementById('particles');
                if (!container) return;
                for (let i = 0; i < 30; i++) {
                    const particle = document.createElement('div');
                    particle.style.cssText = `
                        position: absolute;
                        width: 1.5px;
                        height: 1.5px;
                        background: #00ff41;
                        border-radius: 50%;
                        box-shadow: 0 0 3px #00ff41;
                        opacity: 0;
                        pointer-events: none;
                    `;
                    container.appendChild(particle);
                    this.animateParticle(particle);
                }
            },
            animateParticle(particle) {
                let x = Math.random() * 100;
                let y = Math.random() * 100;
                let phase = Math.random() * Math.PI * 2;
                particle.style.left = `${x}%`;
                particle.style.top = `${y}%`;
                function float() {
                    const time = Date.now() / 1000;
                    x += Math.sin(time + phase) * 0.03;
                    y += Math.cos(time * 0.7 + phase) * 0.03;
                    if (x > 100) x = 0;
                    if (x < 0) x = 100;
                    if (y > 100) y = 0;
                    if (y < 0) y = 100;
                    const opacity = 0.1 + Math.sin(time * 1.5 + phase) * 0.2;
                    particle.style.left = `${x}%`;
                    particle.style.top = `${y}%`;
                    particle.style.opacity = Math.max(0, opacity);
                    requestAnimationFrame(float);
                }
                float();
            }
        };

        const NeuralTutor = {
            elements: {},
            bootSequence: [
                {text: "> Initializing Quantum Neural Tutor v3.0...", delay: 800, color: "#0ff"},
                {text: "> Loading quantum processors... [██████████] 100%", delay: 600, color: "#f0f"},
                {text: "> Calibrating neural interface...", delay: 700, color: "#0ff"},
                {text: "> Establishing quantum entanglement...", delay: 900, color: "#0f0"},
                {text: "> Scanning cognitive patterns...", delay: 600, color: "#0ff"},
                {text: "> Decrypting knowledge matrix...", delay: 800, color: "#ff0"},
                {text: "> Synchronizing mentor network...", delay: 700, color: "#0ff"},
                {text: "> Optimizing learning algorithms...", delay: 900, color: "#f0f"},
                {text: "> System integrity: [██████████] 100%", delay: 600, color: "#0f0"},
                {text: "> Quantum neural bridge: ACTIVE", delay: 800, color: "#0ff"},
                {text: "> Welcome to the singularity.", delay: 1200, color: "#ff0"}
            ],
            introLines: [
                "Greetings, seeker of knowledge.",
                "I am Neural Tutor v3.0, your quantum AI guide in the digital realm.",
                "Created by altair, master architect of cyberpunk learning systems.",
                "Together, we shall unlock the secrets of advanced computation and neural frontiers.",
                "Prepare for enlightenment."
            ],
            courseDetails: {
                algorithms: {
                    photo: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80",
                    info: "Explore quantum algorithms that revolutionize computation.",
                    plans: "Basic: Free intro | Advanced: $49/month | Premium: $99/month with mentorship.",
                    offered: "Shor's Algorithm, Grover's Search, Quantum Optimization techniques."
                },
                ml: {
                    photo: "https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80",
                    info: "Dive into neural architectures for machine learning.",
                    plans: "Basic: Free | Advanced: $59/month | Premium: $119/month.",
                    offered: "CNNs, RNNs, Transformers, Quantum ML hybrids."
                },
                security: {
                    photo: "https://images.unsplash.com/photo-1556155099-222a4a8c6f8d?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80",
                    info: "Master cybersecurity in a mesh network era.",
                    plans: "Basic: Free | Advanced: $69/month | Premium: $129/month.",
                    offered: "Zero-Trust Models, Quantum Encryption, AI Threat Detection."
                },
                quantum: {
                    photo: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80",
                    info: "Fundamentals and advanced quantum computing.",
                    plans: "Basic: Free | Advanced: $79/month | Premium: $149/month.",
                    offered: "Qubits, Gates, Circuits, Error Correction."
                },
                systems: {
                    photo: "https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80",
                    info: "Build and optimize distributed systems.",
                    plans: "Basic: Free | Advanced: $89/month | Premium: $169/month.",
                    offered: "Microservices, Blockchain Integration, Scalable Architectures."
                }
            },
            init() {
                this.cacheElements();
                this.setupEventListeners();
                Effects.createMatrixRain();
                Effects.createParticles();
                setTimeout(() => this.startBootSequence(), 500);
            },
            cacheElements() {
                this.elements.bootTerminal = document.getElementById('bootTerminal');
                this.elements.transitionOverlay = document.getElementById('transitionOverlay');
                this.elements.transitionLoading = document.getElementById('transitionLoading');
                this.elements.loadingText = document.getElementById('loadingText');
                this.elements.loadingProgress = document.getElementById('loadingProgress');
                this.elements.introMessage = document.getElementById('introMessage');
                this.elements.matrixRain = document.getElementById('matrixRain');
                this.elements.courseTerminal = document.getElementById('courseTerminal');
                this.elements.detailsTerminal = document.getElementById('detailsTerminal');
                this.elements.detailsContent = document.getElementById('detailsContent');
                this.elements.profilePhoto = document.getElementById('profilePhoto');
            },
            setupEventListeners() {
                document.addEventListener('keydown', (e) => {
                    if (e.ctrlKey && e.key === 'r') location.reload();
                });
                const courseList = document.querySelector('.course-list');
                if (courseList) {
                    courseList.addEventListener('click', (e) => {
                        if (e.target.tagName === 'LI') {
                            const topic = e.target.dataset.topic;
                            this.showCourseDetails(topic);
                        }
                    });
                }
            },
            async startBootSequence() {
                const lines = Array.from({length: 12}, (_, i) => document.getElementById(`line${i + 1}`));
                lines[0].style.opacity = '1';
                for (let i = 0; i < this.bootSequence.length; i++) {
                    const line = lines[i + 1];
                    const seq = this.bootSequence[i];
                    if (line) {
                        line.style.opacity = '1';
                        line.style.color = seq.color;
                        line.style.display = 'block';
                        line.textContent = '';
                        await this.typeText(line, seq.text, 30);
                        this.playTypingSound();
                        await Utils.sleep(seq.delay);
                    }
                }
                setTimeout(() => Transitions.startTransition(), 1000);
            },
            async typeText(element, text, speed = 35) {
                return new Promise(resolve => {
                    let i = 0;
                    element.textContent = '';
                    element.style.opacity = '1';
                    const interval = setInterval(() => {
                        if (i < text.length) {
                            element.textContent += text.charAt(i);
                            i++;
                            if (element.scrollHeight > element.clientHeight) {
                                element.scrollTop = element.scrollHeight;
                            }
                        } else {
                            clearInterval(interval);
                            resolve();
                        }
                    }, speed);
                });
            },
            async eraseText(element, speed) {
                return new Promise(resolve => {
                    let text = element.textContent;
                    let i = text.length;
                    const interval = setInterval(() => {
                        if (i > 0) {
                            element.textContent = text.substring(0, i - 1);
                            i--;
                        } else {
                            clearInterval(interval);
                            resolve();
                        }
                    }, speed);
                });
            },
            playTypingSound() {
                try {
                    const ctx = new (window.AudioContext || window.webkitAudioContext)();
                    const osc = ctx.createOscillator();
                    const gain = ctx.createGain();
                    osc.connect(gain);
                    gain.connect(ctx.destination);
                    osc.frequency.value = 800 + Math.random() * 400;
                    osc.type = 'sine';
                    gain.gain.setValueAtTime(0.02, ctx.currentTime);
                    gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.1);
                    osc.start();
                    osc.stop(ctx.currentTime + 0.1);
                } catch(e) {}
            },
            speakText(text) {
                if ('speechSynthesis' in window) {
                    const u = new SpeechSynthesisUtterance(text);
                    u.voice = speechSynthesis.getVoices().find(v => v.name.includes('Google') || v.name.includes('English')) || null;
                    u.rate = 1.0;
                    u.pitch = 1.0;
                    speechSynthesis.speak(u);
                }
            },
            async showCourseDetails(topic) {
                const data = this.courseDetails[topic];
                if (!data) return;

                const photo = document.getElementById('profilePhoto');
                const content = this.elements.detailsContent;
                const terminal = this.elements.detailsTerminal;

                photo.querySelector('img').src = data.photo;
                photo.classList.add('visible');

                const fullText = `Information:\n  ${data.info}\n\nPlans:\n  ${data.plans}\n\nWhat's Offered:\n  ${data.offered}`;

                content.textContent = '';
                terminal.style.display = 'block';

                setTimeout(() => {
                    terminal.style.opacity = '1';
                    terminal.style.transform = 'scale(1)';
                }, 50);

                await this.typeText(content, fullText, 28);
            }
        };

        const Transitions = {
            elements: {},
            async startTransition() {
                this.init();
                this.elements.transitionLoading.style.opacity = 1;
                this.elements.transitionLoading.style.display = 'block';
                await this.animateLoadingBar();
                await this.terminalDeconstruction();
                await this.cyberGridTransition();
                await this.postGlitchSequence();
            },
            init() {
                NeuralTutor.cacheElements();
                this.elements = NeuralTutor.elements;
            },
            async animateLoadingBar() {
                return new Promise(resolve => {
                    let p = 0;
                    const iv = setInterval(() => {
                        p += 1;
                        const ease = Utils.easeOutQuad(p / 100);
                        this.elements.loadingProgress.style.width = `${ease * 100}%`;
                        this.elements.loadingText.textContent = this.getLoadingText(p);
                        if (p >= 100) {
                            clearInterval(iv);
                            resolve();
                        }
                    }, 20);
                });
            },
            async terminalDeconstruction() {
                return new Promise(resolve => {
                    const lines = Array.from({length: 12}, (_, i) => document.getElementById(`line${i + 1}`));
                    const garbage = "01!@#$%^&*()_+-=[]{}|;:,.<>?";
                    lines.forEach(l => {
                        if (l.textContent) {
                            let s = '';
                            for (let c of l.textContent) s += c === ' ' ? ' ' : garbage[Math.floor(Math.random()*garbage.length)];
                            l.textContent = s;
                        }
                    });
                    let frame = 0;
                    const iv = setInterval(() => {
                        lines.forEach(l => {
                            l.style.transform = `translate(${Math.random()*40-20}px, ${Math.random()*40-20}px) rotate(${Math.random()*10-5}deg)`;
                            l.style.opacity = Math.random();
                        });
                        frame++;
                        if (frame >= 20) {
                            clearInterval(iv);
                            this.elements.bootTerminal.style.opacity = 0;
                            setTimeout(() => {
                                this.elements.bootTerminal.style.display = 'none';
                                resolve();
                            }, 500);
                        }
                    }, 50);
                });
            },
            async cyberGridTransition() {
                return new Promise(resolve => {
                    this.elements.transitionOverlay.style.opacity = 1;
                    this.elements.transitionOverlay.style.display = 'block';
                    let i = 0;
                    const iv = setInterval(() => {
                        const size = 50 + Math.sin(i/10) * 10;
                        this.elements.transitionOverlay.style.backgroundSize = `${size}px ${size}px`;
                        this.elements.transitionOverlay.style.filter = `hue-rotate(${i * 3.6}deg)`;
                        i += 2;
                        if (i > 100) {
                            clearInterval(iv);
                            const colors = ['#0ff','#f0f','#0f0','#ff0'];
                            let idx = 0;
                            const flash = setInterval(() => {
                                if (idx < colors.length) {
                                    this.elements.transitionOverlay.style.backgroundColor = colors[idx];
                                    setTimeout(() => {
                                        this.elements.transitionOverlay.style.backgroundColor = 'transparent';
                                        idx++;
                                    }, 30);
                                } else {
                                    clearInterval(flash);
                                    this.elements.transitionOverlay.style.opacity = 0;
                                    this.elements.transitionLoading.style.opacity = 0;
                                    setTimeout(resolve, 300);
                                }
                            }, 60);
                        }
                    }, 10);
                });
            },
            async postGlitchSequence() {
                document.body.style.backgroundColor = '#000000';
                await Utils.sleep(3000);
                this.elements.introMessage.style.opacity = 1;
                const lines = [];
                for (let txt of NeuralTutor.introLines) {
                    const div = document.createElement('div');
                    div.className = 'intro-line';
                    this.elements.introMessage.appendChild(div);
                    await NeuralTutor.typeText(div, txt, 50);
                    NeuralTutor.speakText(txt);
                    lines.push(div);
                    await Utils.sleep(500);
                }
                await Utils.sleep(5000);
                for (let i = lines.length - 1; i >= 0; i--) {
                    await NeuralTutor.eraseText(lines[i], 50);
                    await Utils.sleep(500);
                }
                this.elements.introMessage.style.opacity = 0;
                this.elements.introMessage.innerHTML = '';
                await Utils.sleep(1000);
                this.elements.matrixRain.style.opacity = 0.2;
                await Utils.sleep(2000);
                this.elements.courseTerminal.style.opacity = 1;
                this.elements.courseTerminal.style.transform = 'scale(1)';
            },
            getLoadingText(p) {
                const phases = [
                    {s:0, t:"INITIALIZING QUANTUM CORE"},
                    {s:20, t:"LOADING NEURAL MATRIX"},
                    {s:40, t:"SYNCING KNOWLEDGE DATABASE"},
                    {s:60, t:"CALIBRATING ALGORITHMS"},
                    {s:80, t:"ESTABLISHING ENTANGLEMENT"},
                    {s:90, t:"SYSTEM READY"}
                ];
                for (let ph of phases) if (p >= ph.s) return `${ph.t} [${p}%]`;
                return `SYSTEM READY [${p}%]`;
            }
        };

        const Utils = {
            sleep(ms) { return new Promise(r => setTimeout(r, ms)); },
            easeOutQuad(t) { return t * (2 - t); }
        };

        document.addEventListener('DOMContentLoaded', () => NeuralTutor.init());
    </script>
</body>
</html>