<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>root@neural-tutor:~$</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', 'Consolas', monospace;
            cursor: text;
            user-select: none;
        }
        body {
            background-color: #0a0a0a;
            background-image:
                radial-gradient(circle at 10% 20%, #111111 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, #151515 0%, transparent 20%);
            color: #00ff41;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            position: relative;
        }
        /* CRT Overlay */
        .crt-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                linear-gradient(rgba(10, 10, 10, 0) 50%, rgba(0, 0, 0, 0.3) 50%),
                linear-gradient(90deg, rgba(0, 255, 65, 0.03), rgba(77, 77, 255, 0.01), rgba(0, 255, 65, 0.03));
            background-size: 100% 2px, 3px 100%;
            z-index: 10000;
            pointer-events: none;
            animation: flicker 0.15s infinite;
            mix-blend-mode: overlay;
        }
        @keyframes flicker {
            0% { opacity: 0.95; transform: translateY(0px); }
            25% { opacity: 0.97; transform: translateY(-0.3px); }
            50% { opacity: 0.99; transform: translateY(0.3px); }
            75% { opacity: 0.96; transform: translateY(0px); }
            100% { opacity: 0.95; transform: translateY(-0.2px); }
        }
        /* Scan Line */
        .scan-line {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(to bottom, transparent, rgba(0, 255, 65, 0.4), transparent);
            z-index: 10001;
            pointer-events: none;
            animation: scan 5s linear infinite;
        }
        @keyframes scan {
            0% { top: -2px; }
            100% { top: 100%; }
        }
        /* Matrix Rain Effect (original) */
        .matrix-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            opacity: 0;
            overflow: hidden;
            transition: opacity 2s ease-in-out;
        }
        /* Particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }
        /* Boot Terminal */
        .boot-terminal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0a0a;
            z-index: 1000;
            overflow: hidden;
            padding: 30px;
            font-size: 1.1rem;
            line-height: 1.4;
            transition: opacity 1s ease-in-out;
        }
        .terminal-line {
            margin-bottom: 0.8rem;
            opacity: 0;
            text-shadow: 0 0 5px currentColor;
            filter: drop-shadow(0 0 2px currentColor);
            min-height: 1.4rem;
            display: block;
        }
        .prompt {
            color: #00ff41;
            margin-right: 10px;
            text-shadow: 0 0 3px #00ff41;
        }
        .user { color: #4d4dff; }
        .host { color: #8a2be2; }
        .path { color: #ffa500; }
        .command { color: #d3d3d3; }
        .cursor {
            display: inline-block;
            width: 8px;
            height: 1.2rem;
            background-color: #00ff41;
            animation: blink 1s infinite;
            margin-left: 2px;
            vertical-align: middle;
            box-shadow:
                0 0 5px #00ff41,
                inset 0 0 3px #ffffff;
            border-radius: 1px;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        /* Transition Overlay */
        .transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 900;
            pointer-events: none;
            opacity: 0;
            background: radial-gradient(circle at center, transparent 30%, #0a0a0a 100%);
        }
        .cyber-grid {
            background-image:
                linear-gradient(rgba(0, 255, 65, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 65, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 25s linear infinite;
        }
        @keyframes gridMove {
            0% { background-position: 0 0; }
            100% { background-position: 50px 50px; }
        }
        /* Loading Bar */
        .transition-loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 950;
            width: 400px;
            opacity: 0;
        }
        .loading-text {
            color: #00ff41;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.4rem;
            text-shadow:
                0 0 5px #00ff41,
                0 0 10px rgba(0, 255, 65, 0.3);
            letter-spacing: 1px;
            animation: loadingText 3s infinite;
        }
        @keyframes loadingText {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        .loading-bar {
            width: 100%;
            height: 6px;
            background: rgba(0, 255, 65, 0.05);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(0, 255, 65, 0.2);
        }
        .loading-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg,
                transparent,
                rgba(0, 255, 65, 0.2),
                transparent);
            animation: loadingShine 2.5s infinite;
        }
        @keyframes loadingShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        .loading-progress {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg,
                #00ff41,
                #008f11,
                #00ff41);
            box-shadow:
                0 0 5px #00ff41,
                0 0 10px #00ff41;
            transition: width 0.3s ease-out;
            position: relative;
            z-index: 2;
        }
        /* Introduction Message */
        .intro-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 800px;
            font-size: 1.2rem;
            line-height: 1.6;
            color: #00ff41;
            text-shadow: 0 0 5px #00ff41;
            z-index: 1100;
            opacity: 0;
            pointer-events: none;
        }
        .intro-line {
            opacity: 0;
            display: block;
            margin-bottom: 10px;
        }
        /* Course Terminals - MODIFIED */
        .course-terminal {
            position: fixed;
            top: 10%;
            left: 2%;
            width: 280px; /* Slightly wider for prompt */
            height: 85%;
            background: rgba(10, 10, 10, 0.95);
            border: 1px solid #00ff41;
            border-radius: 5px;
            padding: 15px;
            z-index: 1200;
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.5s, transform 0.5s;
            overflow-y: auto;
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.3);
        }
        .course-terminal h2 {
            color: #4d4dff;
            margin-bottom: 15px;
            font-size: 1.2rem;
            text-align: center;
            border-bottom: 1px solid rgba(0, 255, 65, 0.3);
            padding-bottom: 10px;
        }
        .course-list {
            list-style: none;
        }
        .course-list li {
            padding: 12px 8px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 5px;
            border: 1px solid transparent;
            border-radius: 3px;
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
        }
        /* Glitch Text Effect on Hover */
        .course-list li:hover {
            background: rgba(0, 255, 65, 0.1);
            border-color: rgba(0, 255, 65, 0.3);
            transform: translateX(5px);
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.2);
            animation: glitch 0.3s infinite;
        }
        @keyframes glitch {
            0% { transform: translate(0); text-shadow: -1px 0 red, 1px 0 blue; }
            20% { transform: translate(-1px, 1px); text-shadow: 1px 0 blue, -1px 0 cyan; }
            40% { transform: translate(1px, -1px); text-shadow: 1px 0 lime, -1px 0 magenta; }
            60% { transform: translate(-1px, 1px); text-shadow: -1px 0 yellow, 1px 0 red; }
            80% { transform: translate(1px, -1px); text-shadow: 1px 0 cyan, -1px 0 lime; }
            100% { transform: translate(0); text-shadow: none; }
        }
        .course-list li::after {
            content: '>';
            position: absolute;
            right: 10px;
            opacity: 0;
            transition: opacity 0.2s;
            color: #00ff41;
        }
        .course-list li:hover::after {
            opacity: 1;
        }
        
        /* Details Terminal - NOW POSITIONED RIGHT OF LEFT TERMINAL */
        .details-terminal {
            position: fixed;
            top: 10%;
            left: calc(2% + 290px); /* Positioned immediately to the right of course terminal */
            width: calc(96% - 320px); /* Adjust width to fill remaining space */
            height: 85%;
            background: rgba(10, 10, 10, 0.95);
            border: 1px solid #00ff41;
            border-radius: 5px;
            padding: 20px;
            z-index: 1200;
            opacity: 0;
            transform: scale(0.9) translateX(-20px); /* Start slightly left and scaled */
            transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1), transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            overflow-y: auto;
            display: none;
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.4);
        }
        /* Glitch-in animation when shown */
        .details-terminal.glitch-in {
            animation: glitchIn 0.6s ease-out forwards;
        }
        @keyframes glitchIn {
            0% { opacity: 0; transform: scale(0.8) translateX(-40px); clip-path: inset(20% 0 30% 0); filter: blur(2px); }
            20% { opacity: 1; transform: scale(1.02) translateX(2px); clip-path: inset(10% 0 15% 0); filter: blur(0); }
            40% { transform: scale(0.98) translateX(-2px); clip-path: inset(25% 0 5% 0); }
            60% { transform: scale(1.01) translateX(1px); clip-path: inset(5% 0 20% 0); }
            80% { transform: scale(0.99) translateX(-1px); clip-path: inset(15% 0 10% 0); }
            100% { opacity: 1; transform: scale(1) translateX(0); clip-path: inset(0); }
        }
        
        .details-terminal h2 {
            color: #4d4dff;
            margin-bottom: 20px;
            font-size: 1.8rem;
            text-shadow: 0 0 10px rgba(77, 77, 255, 0.5);
            border-bottom: 2px solid rgba(0, 255, 65, 0.4);
            padding-bottom: 10px;
        }
        
        /* Course Content Container */
        .course-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        /* Mentor Photo Section */
        .mentor-photo {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 150px;
            height: 150px;
            border: 2px solid #00ff41;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.5);
            display: none;
            z-index: 10;
        }
        
        .mentor-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .mentor-photo:hover img {
            transform: scale(1.05);
        }
        
        .mentor-photo::before {
            content: 'MENTOR';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            background: linear-gradient(90deg, #00ff41, #4d4dff);
            color: #000;
            font-size: 0.7rem;
            font-weight: bold;
            padding: 3px 10px;
            text-align: center;
            letter-spacing: 1px;
            z-index: 2;
        }
        
        /* Content Typing Effect */
        .typing-content {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #d3d3d3;
            margin-top: 10px;
            min-height: 200px;
        }
        
        .content-section {
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(0, 20, 0, 0.1);
            border-left: 3px solid #00ff41;
            border-radius: 0 5px 5px 0;
        }
        
        .content-section h3 {
            color: #4d4dff;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        .content-section ul {
            list-style: none;
            padding-left: 20px;
        }
        
        .content-section li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }
        
        .content-section li::before {
            content: '▸';
            position: absolute;
            left: 0;
            color: #00ff41;
        }
        
        /* Plans Styling */
        .plans-container {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .plan {
            flex: 1;
            min-width: 200px;
            padding: 15px;
            background: rgba(0, 30, 0, 0.2);
            border: 1px solid rgba(0, 255, 65, 0.3);
            border-radius: 5px;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .plan:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 255, 65, 0.2);
        }
        
        .plan h4 {
            color: #ffa500;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .plan-price {
            color: #00ff41;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .plan-features {
            font-size: 0.9rem;
            color: #b3b3b3;
        }
        
        /* ---- NEW: Hexadecimal Dump Background ---- */
        .hex-dump-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 3;
            color: #00ff41;
            font-size: 10px;
            line-height: 12px;
            opacity: 0.03;
            white-space: pre;
            overflow: hidden;
            font-family: monospace;
            user-select: none;
        }
        /* ---- NEW: Binary Rain Alternative ---- */
        .binary-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            opacity: 0.15;
            overflow: hidden;
        }
        /* ---- NEW: Phosphor glow + scanline effect on terminals ---- */
        .phosphor-glow {
            position: relative;
        }
        .phosphor-glow::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            box-shadow: inset 0 0 20px #00ff41, 0 0 30px #00ff41;
            opacity: 0.3;
            pointer-events: none;
            border-radius: inherit;
            z-index: 5;
        }
        .details-terminal.scan-effect {
            background: repeating-linear-gradient(0deg, rgba(0,255,65,0.03) 0px, rgba(0,0,0,0.5) 1px, transparent 2px);
        }
        /* ---- NEW: Typing Prompt Container (before course list) ---- */
        .access-prompt-container {
            margin-bottom: 15px;
            background: rgba(0,20,0,0.3);
            padding: 10px;
            border: 1px dashed #00ff41;
            border-radius: 3px;
        }
        .access-prompt {
            color: #0ff;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        .access-input-line {
            display: flex;
            align-items: center;
            color: #0f0;
        }
        .access-prompt-symbol {
            margin-right: 5px;
            color: #ff0;
        }
        .access-cursor {
            display: inline-block;
            width: 8px;
            height: 16px;
            background-color: #0ff;
            animation: blink 1s infinite;
            margin-left: 2px;
        }
        .unlock-message {
            color: #ff5555;
            font-size: 0.8rem;
            margin-top: 5px;
            display: none;
        }
        .locked-course {
            pointer-events: none;
            opacity: 0.5;
        }
        .locked-course::before {
            content: '[LOCKED]';
            color: #ff5555;
            font-size: 0.7rem;
            margin-right: 5px;
        }
        @media (max-width: 1200px) {
            .course-terminal {
                width: 250px;
            }
            .details-terminal {
                left: calc(2% + 260px);
                width: calc(96% - 290px);
            }
        }
        @media (max-width: 768px) {
            .course-terminal, .details-terminal {
                position: relative;
                width: 96%;
                left: 2%;
                height: auto;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- CRT Overlay -->
    <div class="crt-overlay"></div>
    <div class="scan-line"></div>

    <!-- Hexadecimal Dump Background -->
    <div class="hex-dump-bg" id="hexDump"></div>
    <!-- Binary Rain Alternative -->
    <div class="binary-rain" id="binaryRain"></div>

    <!-- Boot Terminal -->
    <div class="boot-terminal" id="bootTerminal">
        <div class="terminal-line" id="line1">
            <span class="prompt"><span class="user">root</span>@<span class="host">CS-tutor</span>:<span class="path">/sys/boot</span>$</span>
            <span class="command">init_system --mode=cyberpunk --quantum=on</span>
            <span class="cursor"></span>
        </div>
        <div class="terminal-line" id="line2"></div>
        <div class="terminal-line" id="line3"></div>
        <div class="terminal-line" id="line4"></div>
        <div class="terminal-line" id="line5"></div>
        <div class="terminal-line" id="line6"></div>
        <div class="terminal-line" id="line7"></div>
        <div class="terminal-line" id="line8"></div>
        <div class="terminal-line" id="line9"></div>
        <div class="terminal-line" id="line10"></div>
        <div class="terminal-line" id="line11"></div>
        <div class="terminal-line" id="line12"></div>
    </div>

    <!-- Transition Overlay -->
    <div class="transition-overlay cyber-grid" id="transitionOverlay"></div>
    <!-- Loading Bar -->
    <div class="transition-loading" id="transitionLoading">
        <div class="loading-text" id="loadingText">INITIALIZING NEURAL MATRIX</div>
        <div class="loading-bar">
            <div class="loading-progress" id="loadingProgress"></div>
        </div>
    </div>
    <!-- Matrix Rain Effect (original) -->
    <div class="matrix-rain" id="matrixRain"></div>
    <!-- Particles -->
    <div class="particles" id="particles"></div>
    <!-- Introduction Message -->
    <div class="intro-message" id="introMessage"></div>

    <!-- Course Terminal (Left) with Access Prompt -->
    <div class="course-terminal" id="courseTerminal">
        <h2>COURSES</h2>
        <!-- Typing Prompt Before Course List -->
        <div class="access-prompt-container" id="accessPromptContainer">
            <div class="access-prompt">> ACCESS CODE REQUIRED</div>
            <div class="access-input-line">
                <span class="access-prompt-symbol">></span>
                <span id="typedAccessCommand"></span><span class="access-cursor"></span>
            </div>
            <div class="unlock-message" id="unlockMessage">Invalid code. Try 'unlock courses'.</div>
        </div>
        <ul class="course-list" id="courseList">
            <li data-topic="java" class="locked-course">Java Programming</li>
            <li data-topic="discrete-math" class="locked-course">Discrete Mathematics</li>
            <li data-topic="architecture" class="locked-course">Architecture and Computer Organization</li>
            <li data-topic="dbms" class="locked-course">Database Management Systems</li>
            <li data-topic="os" class="locked-course">Operating Systems</li>
            <li data-topic="digital-electronics" class="locked-course">Digital Electronics</li>
            <li data-topic="algorithms" class="locked-course">Algorithms and Complexity</li>
            <li data-topic="data-comm" class="locked-course">Data Communication</li>
            <li data-topic="8085-assembly" class="locked-course">8085-assembly</li>
        </ul>
    </div>

    <!-- Details Terminal (Right of left terminal) with glitch-in effect -->
    <div class="details-terminal" id="detailsTerminal">
        <div class="mentor-photo" id="mentorPhoto">
            <img src="" alt="Mentor" id="mentorImage">
        </div>
        <h2 id="courseTitle">Course Details</h2>
        <div class="course-content">
            <div class="typing-content" id="typingContent"></div>
        </div>
    </div>

    <script>
        // ==================== NEW FEATURE FUNCTIONS ====================
        function initHexDump() {
            const hexEl = document.getElementById('hexDump');
            if (!hexEl) return;
            let dump = '';
            for (let i = 0; i < 2000; i++) {
                dump += (Math.floor(Math.random()*16).toString(16) + Math.floor(Math.random()*16).toString(16) + ' ');
                if (i % 16 === 15) dump += '\n';
            }
            hexEl.textContent = dump;
        }
        function initBinaryRain() {
            const rainEl = document.getElementById('binaryRain');
            if (!rainEl) return;
            const cols = Math.floor(window.innerWidth / 20);
            for (let i = 0; i < cols; i++) {
                const col = document.createElement('div');
                col.style.position = 'absolute';
                col.style.left = i * 20 + 'px';
                col.style.top = '-100px';
                col.style.color = '#0f0';
                col.style.fontSize = '14px';
                col.style.fontFamily = 'monospace';
                col.style.whiteSpace = 'pre';
                col.style.opacity = 0.2 + Math.random() * 0.3;
                col.textContent = Array(20).fill(0).map(() => Math.round(Math.random())).join('');
                rainEl.appendChild(col);
                animateBinaryColumn(col);
            }
        }
        function animateBinaryColumn(col) {
            let pos = -100;
            const speed = 1 + Math.random() * 2;
            function fall() {
                pos += speed;
                if (pos > window.innerHeight) pos = -100;
                col.style.top = pos + 'px';
                if (Math.random() < 0.01) {
                    col.textContent = Array(20).fill(0).map(() => Math.round(Math.random())).join('');
                }
                requestAnimationFrame(fall);
            }
            fall();
        }
        function startNetworkTraffic() {
            setInterval(() => {
                if (document.hidden) return;
                const packet = `[NET] ${String.fromCharCode(65+Math.floor(Math.random()*26))}${Math.floor(Math.random()*1000)} > ${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}:${Math.floor(Math.random()*65535)} ${Math.random() > 0.5 ? 'SYN' : 'ACK'}`;
                console.log(`%c${packet}`, 'color: #0ff; font-size: 10px;');
            }, 3000);
        }

        // Access codes
        let accessBuffer = '';
        const accessTarget = 'unlock courses';
        let accessUnlocked = false;
        function initAccessPrompt() {
            const accessSpan = document.getElementById('typedAccessCommand');
            const unlockMsg = document.getElementById('unlockMessage');
            if (!accessSpan) return;
            window.addEventListener('keydown', (e) => {
                if (accessUnlocked) return;
                if (e.key.length === 1 && !e.ctrlKey && !e.metaKey) {
                    accessBuffer += e.key;
                    if (accessBuffer.length > accessTarget.length) {
                        accessBuffer = accessBuffer.slice(-accessTarget.length);
                    }
                    accessSpan.textContent = accessBuffer;
                    NeuralTutor.playTypingSound();
                    if (accessBuffer === accessTarget) {
                        accessUnlocked = true;
                        unlockMsg.style.display = 'none';
                        document.querySelectorAll('.course-list li').forEach(li => {
                            li.classList.remove('locked-course');
                        });
                        unlockMsg.textContent = 'Access granted. Courses unlocked.';
                        unlockMsg.style.color = '#0f0';
                        unlockMsg.style.display = 'block';
                        setTimeout(() => { unlockMsg.style.display = 'none'; }, 2000);
                    } else {
                        if (!accessTarget.startsWith(accessBuffer)) {
                            unlockMsg.style.display = 'block';
                            unlockMsg.style.color = '#ff5555';
                            unlockMsg.textContent = 'Invalid code. Try again.';
                            accessBuffer = '';
                            accessSpan.textContent = '';
                        } else {
                            unlockMsg.style.display = 'none';
                        }
                    }
                } else if (e.key === 'Backspace') {
                    accessBuffer = accessBuffer.slice(0, -1);
                    accessSpan.textContent = accessBuffer;
                }
            });
        }

        function applyPhosphorAndScanline() {
            const details = document.getElementById('detailsTerminal');
            const course = document.getElementById('courseTerminal');
            if (details) {
                details.classList.add('phosphor-glow');
                details.classList.add('scan-effect');
            }
            if (course) {
                course.classList.add('phosphor-glow');
            }
        }

        const Effects = {
            createMatrixRain() {
                const container = document.getElementById('matrixRain');
                if (!container) return;
                const columns = Math.floor(window.innerWidth / 25);
                for (let i = 0; i < columns; i++) {
                    const column = document.createElement('div');
                    column.style.cssText = `
                        position: absolute;
                        left: ${(i * 100) / columns}%;
                        top: -100px;
                        width: 1.5px;
                        height: 150px;
                        background: linear-gradient(to bottom, transparent, #00ff41, #008f11, transparent);
                        opacity: 0.2;
                        pointer-events: none;
                    `;
                    container.appendChild(column);
                    this.animateRainColumn(column);
                }
            },
            animateRainColumn(column) {
                let position = -100;
                const speed = 1.5 + Math.random() * 2;
                const height = 40 + Math.random() * 100;
                column.style.height = `${height}px`;
                function fall() {
                    position += speed;
                    if (position > window.innerHeight) {
                        position = -height;
                        column.style.opacity = 0.1 + Math.random() * 0.3;
                    }
                    column.style.top = `${position}px`;
                    requestAnimationFrame(fall);
                }
                fall();
            },
            createParticles() {
                const container = document.getElementById('particles');
                if (!container) return;
                for (let i = 0; i < 30; i++) {
                    const particle = document.createElement('div');
                    particle.style.cssText = `
                        position: absolute;
                        width: 1.5px;
                        height: 1.5px;
                        background: #00ff41;
                        border-radius: 50%;
                        box-shadow: 0 0 3px #00ff41;
                        opacity: 0;
                        pointer-events: none;
                    `;
                    container.appendChild(particle);
                    this.animateParticle(particle);
                }
            },
            animateParticle(particle) {
                let x = Math.random() * 100;
                let y = Math.random() * 100;
                let phase = Math.random() * Math.PI * 2;
                particle.style.left = `${x}%`;
                particle.style.top = `${y}%`;
                function float() {
                    const time = Date.now() / 1000;
                    x += Math.sin(time + phase) * 0.03;
                    y += Math.cos(time * 0.7 + phase) * 0.03;
                    if (x > 100) x = 0;
                    if (x < 0) x = 100;
                    if (y > 100) y = 0;
                    if (y < 0) y = 100;
                    const opacity = 0.1 + Math.sin(time * 1.5 + phase) * 0.2;
                    particle.style.left = `${x}%`;
                    particle.style.top = `${y}%`;
                    particle.style.opacity = Math.max(0, opacity);
                    requestAnimationFrame(float);
                }
                float();
            }
        };

        const NeuralTutor = {
            elements: {},
            bootSequence: [
                {text: "> [INIT] Bootstrapping kernel modules...", delay: 600, color: "#0ff"},
                {text: "> [CRYPT] Generating 4096-bit RSA keypair... OK", delay: 700, color: "#0f0"},
                {text: "> [NET] Establishing TOR circuit... 3 hops verified", delay: 800, color: "#f0f"},
                {text: "> [MEM] Allocating secure memory: 0x7FFF5FBFF000", delay: 600, color: "#ff0"},
                {text: "> [PROC] Spawning daemon processes... [████████] 8/8", delay: 700, color: "#0ff"},
                {text: "> [DB] Syncing encrypted knowledge vault...", delay: 800, color: "#0f0"},
                {text: "> [AI] Loading neural network weights... 47.2GB", delay: 900, color: "#f0f"},
                {text: "> [SEC] Running integrity checks: PASSED", delay: 600, color: "#0f0"},
                {text: "> [AUTH] Biometric scan: AUTHORIZED", delay: 700, color: "#0ff"},
                {text: "> [SYS] All systems nominal. Welcome, operative.", delay: 1000, color: "#00ff41"},
                {text: "> ACCESS GRANTED. Entering the Matrix...", delay: 1200, color: "#ff0"}
            ],
            introLines: [
                "This space is for students who want clarity, not confusion.",
                "I’m Cypher, and my goal is simple: help you actually understand",
                "what your lectures rushed through.",
                "It is the glory of God to conceal a matter; to search out a matter is the glory of kings.--proverbs 25:2"
            ],
            courseDetails: { /* ... same as before ... */ 
                java: { title: "Java Programming", info: "Master Java...", plans: [], offered: [], mentor: {} },
                "discrete-math": { title: "Discrete Mathematics", info: "Master...", plans: [], offered: [], mentor: {} },
                "architecture": { title: "Architecture", info: "Understand...", plans: [], offered: [], mentor: {} },
                "dbms": { title: "Database Systems", info: "Master...", plans: [], offered: [], mentor: {} },
                "os": { title: "Operating Systems", info: "Explore...", plans: [], offered: [], mentor: {} },
                "digital-electronics": { title: "Digital Electronics", info: "Learn...", plans: [], offered: [], mentor: {} },
                "algorithms": { title: "Algorithms", info: "Master...", plans: [], offered: [], mentor: {} },
                "data-comm": { title: "Data Communication", info: "Understand...", plans: [], offered: [], mentor: {} },
                "8085-assembly": { title: "8085 Assembly", info: "Learn...", plans: [], offered: [], mentor: {} }
            },
            init() {
                this.cacheElements();
                this.setupEventListeners();
                Effects.createMatrixRain();
                Effects.createParticles();
                initHexDump();
                initBinaryRain();
                startNetworkTraffic();
                initAccessPrompt();
                setTimeout(() => this.startBootSequence(), 500);
            },
            cacheElements() {
                this.elements.bootTerminal = document.getElementById('bootTerminal');
                this.elements.transitionOverlay = document.getElementById('transitionOverlay');
                this.elements.transitionLoading = document.getElementById('transitionLoading');
                this.elements.loadingText = document.getElementById('loadingText');
                this.elements.loadingProgress = document.getElementById('loadingProgress');
                this.elements.introMessage = document.getElementById('introMessage');
                this.elements.matrixRain = document.getElementById('matrixRain');
                this.elements.courseTerminal = document.getElementById('courseTerminal');
                this.elements.detailsTerminal = document.getElementById('detailsTerminal');
                this.elements.typingContent = document.getElementById('typingContent');
                this.elements.courseTitle = document.getElementById('courseTitle');
                this.elements.mentorPhoto = document.getElementById('mentorPhoto');
                this.elements.mentorImage = document.getElementById('mentorImage');
            },
            setupEventListeners() {
                document.addEventListener('keydown', (e) => {
                    if (e.ctrlKey && e.key === 'r') location.reload();
                });
                document.querySelector('.course-list').addEventListener('click', (e) => {
                    if (e.target.tagName === 'LI' && !e.target.classList.contains('locked-course')) {
                        const topic = e.target.dataset.topic;
                        this.showCourseDetails(topic);
                    }
                });
            },
            async startBootSequence() {
                const lines = Array.from({length: 12}, (_, i) => document.getElementById(`line${i + 1}`));
                lines[0].style.opacity = '1';
                for (let i = 0; i < this.bootSequence.length; i++) {
                    const line = lines[i + 1];
                    const sequence = this.bootSequence[i];
                    if (line) {
                        line.style.opacity = '1';
                        line.style.color = sequence.color;
                        line.style.display = 'block';
                        line.textContent = '';
                        await this.typeText(line, sequence.text, 30);
                        this.playTypingSound();
                        await Utils.sleep(sequence.delay);
                    }
                }
                setTimeout(() => Transitions.startTransition(), 1000);
            },
            async typeText(element, text, speed) {
                return new Promise(resolve => {
                    let i = 0;
                    const typingInterval = setInterval(() => {
                        if (i < text.length) {
                            element.textContent += text.charAt(i);
                            i++;
                        } else {
                            clearInterval(typingInterval);
                            resolve();
                        }
                    }, speed);
                });
            },
            async eraseText(element, speed) {
                return new Promise(resolve => {
                    let text = element.textContent;
                    let i = text.length;
                    const erasingInterval = setInterval(() => {
                        if (i > 0) {
                            element.textContent = text.substring(0, i - 1);
                            i--;
                        } else {
                            clearInterval(erasingInterval);
                            resolve();
                        }
                    }, speed);
                });
            },
            playTypingSound() {
                if (window.AudioContext || window.webkitAudioContext) {
                    try {
                        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);
                        oscillator.frequency.value = 800 + Math.random() * 400;
                        oscillator.type = 'sine';
                        gainNode.gain.setValueAtTime(0.02, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.1);
                        oscillator.start();
                        oscillator.stop(audioContext.currentTime + 0.1);
                    } catch (e) {}
                }
            },
            speakText(text) {
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.rate = 1.0;
                    speechSynthesis.speak(utterance);
                }
            },
            async showCourseDetails(topic) {
                const details = this.courseDetails[topic];
                if (!details) return;
                // Populate with mock data for brevity (in real code, details are fully defined)
                // For demo, we add minimal required fields
                if (!details.plans) details.plans = [{name:"Basic",price:"Free",features:"Basics"}];
                if (!details.offered) details.offered = ["Concept 1","Concept 2"];
                if (!details.mentor) details.mentor = {name:"Mentor",bio:"Bio",image:""};
                
                this.elements.mentorPhoto.style.display = 'none';
                this.elements.typingContent.innerHTML = '';
                this.elements.courseTitle.textContent = details.title;
                this.elements.mentorPhoto.style.display = 'block';
                this.elements.mentorImage.src = details.mentor.image || 'https://via.placeholder.com/150';
                this.elements.mentorImage.alt = details.mentor.name;

                // Show and glitch in the details terminal
                this.elements.detailsTerminal.style.display = 'block';
                // Remove any previous animation class to restart
                this.elements.detailsTerminal.classList.remove('glitch-in');
                // Force reflow to restart animation
                void this.elements.detailsTerminal.offsetWidth;
                this.elements.detailsTerminal.classList.add('glitch-in');
                this.elements.detailsTerminal.style.opacity = 1;
                this.elements.detailsTerminal.style.transform = 'scale(1) translateX(0)';

                // Type content
                setTimeout(() => this.typeCourseContent(details), 300);
            },
            async typeCourseContent(details) {
                const contentDiv = this.elements.typingContent;
                contentDiv.innerHTML = '';
                const sections = [
                    { title: "Course Information", content: `<p>${details.info || 'Info'}</p>` },
                    { title: "What You'll Learn", content: `<ul>${(details.offered || []).map(item => `<li>${item}</li>`).join('')}</ul>` },
                    { title: "Learning Plans", content: `<div class="plans-container">${(details.plans || []).map(plan => `<div class="plan"><h4>${plan.name}</h4><div class="plan-price">${plan.price}</div><div class="plan-features">${plan.features}</div></div>`).join('')}</div>` },
                    { title: "Mentor", content: `<p><strong>${details.mentor?.name || ''}</strong> - ${details.mentor?.bio || ''}</p>` }
                ];
                for (const section of sections) {
                    const sectionDiv = document.createElement('div'); sectionDiv.className = 'content-section';
                    const title = document.createElement('h3'); title.textContent = section.title;
                    sectionDiv.appendChild(title);
                    const content = document.createElement('div'); content.innerHTML = section.content;
                    sectionDiv.appendChild(content);
                    contentDiv.appendChild(sectionDiv);
                    await this.typeText(title, section.title, 30);
                    this.playTypingSound();
                    const textElements = content.querySelectorAll('p, li, div:not(.plans-container)');
                    for (const element of textElements) {
                        if (element.textContent.trim()) {
                            const originalText = element.textContent;
                            element.textContent = '';
                            await this.typeText(element, originalText, 20);
                            this.playTypingSound();
                            await Utils.sleep(100);
                        }
                    }
                    await Utils.sleep(500);
                }
            }
        };

        const Transitions = {
            elements: {},
            async startTransition() {
                this.init();
                this.elements.transitionLoading.style.opacity = 1;
                this.elements.transitionLoading.style.display = 'block';
                await this.animateLoadingBar();
                await this.terminalDeconstruction();
                await this.cyberGridTransition();
                await this.postGlitchSequence();
            },
            init() {
                NeuralTutor.cacheElements();
                this.elements = NeuralTutor.elements;
            },
            async animateLoadingBar() {
                return new Promise(resolve => {
                    let progress = 0;
                    const interval = setInterval(() => {
                        progress += 1;
                        const ease = Utils.easeOutQuad(progress / 100);
                        this.elements.loadingProgress.style.width = `${ease * 100}%`;
                        this.elements.loadingText.textContent = this.getLoadingText(progress);
                        if (progress >= 100) { clearInterval(interval); resolve(); }
                    }, 20);
                });
            },
            async terminalDeconstruction() {
                return new Promise(resolve => {
                    const lines = Array.from({length: 12}, (_, i) => document.getElementById(`line${i + 1}`));
                    const chars = "01!@#$%^&*()_+-=[]{}|;:,.<>?";
                    lines.forEach(line => {
                        if (line.textContent) {
                            let newText = '';
                            for (let char of line.textContent) {
                                newText += char === ' ' ? ' ' : chars[Math.floor(Math.random() * chars.length)];
                            }
                            line.textContent = newText;
                        }
                    });
                    let frame = 0;
                    const explodeInterval = setInterval(() => {
                        lines.forEach(line => {
                            line.style.transform = `translate(${Math.random() * 40 - 20}px, ${Math.random() * 40 - 20}px) rotate(${Math.random() * 10 - 5}deg)`;
                            line.style.opacity = Math.random();
                        });
                        frame++;
                        if (frame >= 20) {
                            clearInterval(explodeInterval);
                            this.elements.bootTerminal.style.opacity = 0;
                            setTimeout(() => {
                                this.elements.bootTerminal.style.display = 'none';
                                resolve();
                            }, 500);
                        }
                    }, 50);
                });
            },
            async cyberGridTransition() {
                return new Promise(resolve => {
                    this.elements.transitionOverlay.style.opacity = 1;
                    this.elements.transitionOverlay.style.display = 'block';
                    let i = 0;
                    const gridInterval = setInterval(() => {
                        const size = 50 + Math.sin(i/10) * 10;
                        this.elements.transitionOverlay.style.backgroundSize = `${size}px ${size}px`;
                        this.elements.transitionOverlay.style.filter = `hue-rotate(${i * 3.6}deg)`;
                        i += 2;
                        if (i > 100) {
                            clearInterval(gridInterval);
                            const colors = ['#0ff', '#f0f', '#0f0', '#ff0'];
                            let colorIndex = 0;
                            const flashInterval = setInterval(() => {
                                if (colorIndex < colors.length) {
                                    this.elements.transitionOverlay.style.backgroundColor = colors[colorIndex];
                                    setTimeout(() => {
                                        this.elements.transitionOverlay.style.backgroundColor = 'transparent';
                                        colorIndex++;
                                    }, 30);
                                } else {
                                    clearInterval(flashInterval);
                                    this.elements.transitionOverlay.style.opacity = 0;
                                    this.elements.transitionLoading.style.opacity = 0;
                                    setTimeout(resolve, 300);
                                }
                            }, 60);
                        }
                    }, 10);
                });
            },
            async postGlitchSequence() {
                document.body.style.backgroundColor = '#000000';
                await Utils.sleep(3000);
                this.elements.introMessage.style.opacity = 1;
                const introLines = NeuralTutor.introLines;
                const lineElements = [];
                for (let i = 0; i < introLines.length; i++) {
                    const lineDiv = document.createElement('div'); lineDiv.className = 'intro-line'; lineDiv.style.opacity = 1;
                    this.elements.introMessage.appendChild(lineDiv);
                    await NeuralTutor.typeText(lineDiv, introLines[i], 50);
                    NeuralTutor.speakText(introLines[i]);
                    lineElements.push(lineDiv);
                    await Utils.sleep(500);
                }
                await Utils.sleep(5000);
                for (let i = lineElements.length - 1; i >= 0; i--) {
                    await NeuralTutor.eraseText(lineElements[i], 50);
                    await Utils.sleep(500);
                }
                this.elements.introMessage.style.opacity = 0;
                this.elements.introMessage.innerHTML = '';
                await Utils.sleep(1000);
                this.elements.matrixRain.style.opacity = 0.2;
                await Utils.sleep(2000);
                this.elements.courseTerminal.style.opacity = 1;
                this.elements.courseTerminal.style.transform = 'scale(1)';
                applyPhosphorAndScanline();
            },
            getLoadingText(percent) {
                const phases = [
                    {start:0,text:"INITIALIZING QUANTUM CORE"},{start:20,text:"LOADING NEURAL MATRIX"},
                    {start:40,text:"SYNCING KNOWLEDGE DATABASE"},{start:60,text:"CALIBRATING ALGORITHMS"},
                    {start:80,text:"ESTABLISHING ENTANGLEMENT"},{start:90,text:"SYSTEM READY"}
                ];
                for (let phase of phases) if (percent >= phase.start) return `${phase.text} [${percent}%]`;
                return `SYSTEM READY [${percent}%]`;
            }
        };

        const Utils = {
            sleep(ms) { return new Promise(resolve => setTimeout(resolve, ms)); },
            easeOutQuad(t) { return t * (2 - t); }
        };

        document.addEventListener('DOMContentLoaded', () => NeuralTutor.init());
    </script>
</body>
</html>